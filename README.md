# Telegram ะะพั ะดะปั ะฏะฝะดะตะบั ะะฐะปะตะฝะดะฐัั

ะะพะปะพัะพะฒะพะน ะฑะพั ะดะปั ัะพะทะดะฐะฝะธั ัะพะฑััะธะน ะฒ ะฏะฝะดะตะบั ะะฐะปะตะฝะดะฐัะต ัะตัะตะท Telegram. ะัะพััะพ ะพัะฟัะฐะฒััะต ะณะพะปะพัะพะฒะพะต ัะพะพะฑัะตะฝะธะต ั ะพะฟะธัะฐะฝะธะตะผ ัะพะฑััะธั, ะธ ะฑะพั ะฐะฒัะพะผะฐัะธัะตัะบะธ ะดะพะฑะฐะฒะธั ะตะณะพ ะฒ ะบะฐะปะตะฝะดะฐัั ั ะฝะฐะฟะพะผะธะฝะฐะฝะธัะผะธ.

## ๐ ะะพะทะผะพะถะฝะพััะธ

- ๐ค **ะะพะปะพัะพะฒะพะน ะฒะฒะพะด** - ะพัะฟัะฐะฒะปัะนัะต ะณะพะปะพัะพะฒัะต ัะพะพะฑัะตะฝะธั ั ะพะฟะธัะฐะฝะธะตะผ ัะพะฑััะธะน
- ๐ค **ะะฐัะฟะพะทะฝะฐะฒะฐะฝะธะต ัะตัะธ** - ะฐะฒัะพะผะฐัะธัะตัะบะฐั ััะฐะฝัะบัะธะฑะฐัะธั ัะตัะตะท OpenAI Whisper
- ๐ค **ะฃะผะฝะฐั ะพะฑัะฐะฑะพัะบะฐ** - ะธะทะฒะปะตัะตะฝะธะต ะดะฐัั, ะฒัะตะผะตะฝะธ ะธ ะฝะฐะทะฒะฐะฝะธั ัะพะฑััะธั ัะตัะตะท GPT-4o-mini
- ๐ **ะะฝัะตะณัะฐัะธั ั ะฏะฝะดะตะบั ะะฐะปะตะฝะดะฐัะตะผ** - ะฐะฒัะพะผะฐัะธัะตัะบะพะต ัะพะทะดะฐะฝะธะต ัะพะฑััะธะน ัะตัะตะท CalDAV
- ๐ **ะฃะฒะตะดะพะผะปะตะฝะธั** - ะฝะฐะฟะพะผะธะฝะฐะฝะธั ะทะฐ 60 ะธ 15 ะผะธะฝัั ะดะพ ัะพะฑััะธั
- ๐ **ะกะฟะธัะพะบ ัะพะฑััะธะน** - ะฟัะพัะผะพัั ะฑะปะธะถะฐะนัะธั ัะพะฑััะธะน ัะตัะตะท ะบะพะผะฐะฝะดั /list

## ๐ ะขัะตะฑะพะฒะฐะฝะธั

- Python 3.10+
- Telegram Bot Token (ะฟะพะปััะธัั ั [@BotFather](https://t.me/BotFather))
- OpenAI API Key (ะดะปั Whisper ะธ GPT-4o-mini)
- ะฏะฝะดะตะบั ะฐะบะบะฐัะฝั ั ะฝะฐัััะพะตะฝะฝัะผ ะฟะฐัะพะปะตะผ ะฟัะธะปะพะถะตะฝะธั

## ๐ ะฃััะฐะฝะพะฒะบะฐ ะธ ะฝะฐัััะพะนะบะฐ

### 1. ะะปะพะฝะธัะพะฒะฐะฝะธะต ัะตะฟะพะทะธัะพัะธั

```bash
git clone <repository-url>
cd calendar-bot
```

### 2. ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน

```bash
pip install -r requirements.txt
```

### 3. ะะฐัััะพะนะบะฐ ะฟะตัะตะผะตะฝะฝัั ะพะบััะถะตะฝะธั

ะกะบะพะฟะธััะนัะต `.env.example` ะฒ `.env` ะธ ะทะฐะฟะพะปะฝะธัะต ะฝะตะพะฑัะพะดะธะผัะต ะทะฝะฐัะตะฝะธั:

```bash
cp .env.example .env
```

ะััะตะดะฐะบัะธััะนัะต `.env`:

```env
# Telegram Bot Token (ะฟะพะปััะธัั ั @BotFather)
TELEGRAM_BOT_TOKEN=your_bot_token_here

# OpenAI API Key
OPENAI_API_KEY=your_openai_api_key_here

# ะฏะฝะดะตะบั ะะฐะปะตะฝะดะฐัั
YANDEX_USER=your_email@yandex.ru
YANDEX_PASS=your_app_password_here

# ะะฐัััะพะนะบะธ ัะฒะตะดะพะผะปะตะฝะธะน (ะฒ ะผะธะฝััะฐั ะดะพ ัะพะฑััะธั)
NOTIFICATION_TIMES=15,60

# ะงะฐัะพะฒะพะน ะฟะพัั
TIMEZONE=Europe/Moscow

# ะะฐะทะฐ ะดะฐะฝะฝัั (SQLite)
DATABASE_URL=sqlite+aiosqlite:///./calendar_bot.db
```

### 4. ะะฐัััะพะนะบะฐ ะฏะฝะดะตะบั ะะฐะปะตะฝะดะฐัั

1. ะะฐะนะดะธัะต ะฒ [ะฏะฝะดะตะบั ID](https://id.yandex.ru/)
2. ะะตัะตะนะดะธัะต ะฒ ัะฐะทะดะตะป "ะะตะทะพะฟะฐัะฝะพััั"
3. ะะฐะนะดะธัะต "ะะฐัะพะปะธ ะฟัะธะปะพะถะตะฝะธะน"
4. ะกะพะทะดะฐะนัะต ะฝะพะฒัะน ะฟะฐัะพะปั ะดะปั "ะะฐะปะตะฝะดะฐัั"
5. ะกะบะพะฟะธััะนัะต ัะพะทะดะฐะฝะฝัะน ะฟะฐัะพะปั ะฒ ะฟะตัะตะผะตะฝะฝัั `YANDEX_PASS` ะฒ `.env`

โ๏ธ **ะะฐะถะฝะพ:** ะัะฟะพะปัะทัะนัะต ะธะผะตะฝะฝะพ ะฟะฐัะพะปั ะฟัะธะปะพะถะตะฝะธั, ะฐ ะฝะต ะฟะฐัะพะปั ะพั ะฟะพััั!

## ๐ ะะฐะฟััะบ

### ะะพะบะฐะปัะฝัะน ะทะฐะฟััะบ

```bash
python main.py
```

### ะะฐะฟััะบ ะฝะฐ Railway

1. ะกะพะทะดะฐะนัะต ะฝะพะฒัะน ะฟัะพะตะบั ะฝะฐ [Railway](https://railway.app)
2. ะะพะดะบะปััะธัะต ะฒะฐั ัะตะฟะพะทะธัะพัะธะน
3. ะะพะฑะฐะฒััะต ะฒัะต ะฟะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั ะธะท `.env` ะฒ ะฝะฐัััะพะนะบะฐั ะฟัะพะตะบัะฐ Railway
4. Railway ะฐะฒัะพะผะฐัะธัะตัะบะธ ะพะฟัะตะดะตะปะธั Python ะฟัะพะตะบั ะธ ะทะฐะฟัััะธั ะตะณะพ

Railway ะฐะฒัะพะผะฐัะธัะตัะบะธ ะธัะฟะพะปัะทัะตั `railway.json` ะดะปั ะบะพะฝัะธะณััะฐัะธะธ.

## ๐ฑ ะัะฟะพะปัะทะพะฒะฐะฝะธะต

### ะะพะผะฐะฝะดั ะฑะพัะฐ

- `/start` - ะะฐัะฐัั ัะฐะฑะพัั ั ะฑะพัะพะผ
- `/help` - ะะพะบะฐะทะฐัั ัะฟัะฐะฒะบั
- `/list` - ะะพะบะฐะทะฐัั ะฑะปะธะถะฐะนัะธะต ัะพะฑััะธั

### ะัะธะผะตัั ะณะพะปะพัะพะฒัั ัะพะพะฑัะตะฝะธะน

- "ะะพััะฐะฒั ะฒัััะตัั ั ะบะปะธะตะฝัะพะผ ะฝะฐ ะทะฐะฒััะฐ ะฒ 15:00"
- "ะกะพะทะฒะพะฝ ั ะบะพะผะฐะฝะดะพะน ะฟะพัะปะตะทะฐะฒััะฐ ะฒ 10 ัััะฐ ะฝะฐ ัะฐั"
- "ะะฐะฟะพะผะฝะธ ะฟัะพ ะฟัะตะทะตะฝัะฐัะธั ัะตัะตะท 2 ะดะฝั ะฒ 14:30"
- "ะัััะตัะฐ ั ะดะธัะตะบัะพัะพะผ ัะตะณะพะดะฝั ะฒ 18:00"

ะะพั ะฐะฒัะพะผะฐัะธัะตัะบะธ:
1. ะะฐัะฟะพะทะฝะฐะตั ัะตัั
2. ะะทะฒะปะตัะตั ะฝะฐะทะฒะฐะฝะธะต ัะพะฑััะธั, ะดะฐัั ะธ ะฒัะตะผั
3. ะกะพะทะดะฐัั ัะพะฑััะธะต ะฒ ะฏะฝะดะตะบั ะะฐะปะตะฝะดะฐัะต
4. ะะฐัััะพะธั ะฝะฐะฟะพะผะธะฝะฐะฝะธั

## ๐ ะััะธัะตะบัััะฐ

```
โโโโโโโโโโโโโโโ
โ   Telegram  โ
โ     Bot    โ
โโโโโโโโฌโโโโโโโ
       โ
       โผ
โโโโโโโโโโโโโโโ     โโโโโโโโโโโโโโโโ
โ  Whisper    โโโโโโถโ  ะขัะฐะฝัะบัะธะฟัะธัโ
โ     API     โ     โ    (STT)     โ
โโโโโโโโโโโโโโโ     โโโโโโโโฌโโโโโโโโ
                           โ
                           โผ
                    โโโโโโโโโโโโโโโโ
                    โ  GPT-4o-mini โ
                    โ     (NLU)    โ
                    โโโโโโโโฌโโโโโโโโ
                           โ
                           โผ
                    โโโโโโโโโโโโโโโโ
                    โ ะฏะฝะดะตะบั ะะฐะปะตะฝะด.โ
                    โ   (CalDAV)    โ
                    โโโโโโโโฌโโโโโโโโ
                           โ
                           โผ
                    โโโโโโโโโโโโโโโโ
                    โ   ะะฐะทะฐ ะดะฐะฝะฝัั โ
                    โ   (SQLite)    โ
                    โโโโโโโโฌโโโโโโโโ
                           โ
                           โผ
                    โโโโโโโโโโโโโโโโ
                    โ APScheduler  โ
                    โ (ะฃะฒะตะดะพะผะปะตะฝะธั)โ
                    โโโโโโโโโโโโโโโโ
```

## ๐ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
.
โโโ main.py                 # ะขะพัะบะฐ ะฒัะพะดะฐ
โโโ bot.py                  # Telegram ะฑะพั
โโโ config.py               # ะะพะฝัะธะณััะฐัะธั
โโโ transcription.py        # ะขัะฐะฝัะบัะธะฑะฐัะธั ะณะพะปะพัะฐ
โโโ nlu_service.py          # ะะฑัะฐะฑะพัะบะฐ ะตััะตััะฒะตะฝะฝะพะณะพ ัะทัะบะฐ
โโโ calendar_service.py     # ะะฐะฑะพัะฐ ั ะฏะฝะดะตะบั ะะฐะปะตะฝะดะฐัะตะผ
โโโ database.py             # ะะพะดะตะปะธ ะฑะฐะทั ะดะฐะฝะฝัั
โโโ scheduler.py            # ะะปะฐะฝะธัะพะฒัะธะบ ัะฒะตะดะพะผะปะตะฝะธะน
โโโ requirements.txt        # ะะฐะฒะธัะธะผะพััะธ
โโโ railway.json           # ะะพะฝัะธะณััะฐัะธั Railway
โโโ .env.example           # ะัะธะผะตั ะฟะตัะตะผะตะฝะฝัั ะพะบััะถะตะฝะธั
โโโ README.md              # ะะพะบัะผะตะฝัะฐัะธั
```

## ๐ง ะขะตัะฝะธัะตัะบะธะน ััะตะบ

- **aiogram 3.x** - ะัะธะฝััะพะฝะฝัะน Telegram ะฑะพั
- **OpenAI Whisper** - ะะฐัะฟะพะทะฝะฐะฒะฐะฝะธะต ัะตัะธ
- **GPT-4o-mini** - ะะฑัะฐะฑะพัะบะฐ ะตััะตััะฒะตะฝะฝะพะณะพ ัะทัะบะฐ
- **CalDAV** - ะัะพัะพะบะพะป ะดะปั ัะฐะฑะพัั ั ะฏะฝะดะตะบั ะะฐะปะตะฝะดะฐัะตะผ
- **SQLAlchemy** - ORM ะดะปั ัะฐะฑะพัั ั ะฑะฐะทะพะน ะดะฐะฝะฝัั
- **APScheduler** - ะะปะฐะฝะธัะพะฒัะธะบ ะทะฐะดะฐั ะดะปั ัะฒะตะดะพะผะปะตะฝะธะน
- **SQLite** - ะะฐะทะฐ ะดะฐะฝะฝัั ะดะปั ััะฐะฝะตะฝะธั ัะพะฑััะธะน

## ๐ ะะตัะตะฝะธะต ะฟัะพะฑะปะตะผ

### ะะพั ะฝะต ะพัะฒะตัะฐะตั

- ะัะพะฒะตัััะต, ััะพ `TELEGRAM_BOT_TOKEN` ัะบะฐะทะฐะฝ ะฟัะฐะฒะธะปัะฝะพ
- ะฃะฑะตะดะธัะตัั, ััะพ ะฑะพั ะทะฐะฟััะตะฝ ะธ ัะฐะฑะพัะฐะตั

### ะัะธะฑะบะธ ะฟัะธ ัะพะทะดะฐะฝะธะธ ัะพะฑััะธะน

- ะัะพะฒะตัััะต ะฟัะฐะฒะธะปัะฝะพััั `YANDEX_USER` ะธ `YANDEX_PASS`
- ะฃะฑะตะดะธัะตัั, ััะพ ะธัะฟะพะปัะทัะตัะต ะฟะฐัะพะปั ะฟัะธะปะพะถะตะฝะธั, ะฐ ะฝะต ะฟะฐัะพะปั ะพั ะฟะพััั
- ะัะพะฒะตัััะต ะดะพัััะฟ ะบ ะฏะฝะดะตะบั ะะฐะปะตะฝะดะฐัั

### ะัะธะฑะบะธ ััะฐะฝัะบัะธะฑะฐัะธะธ

- ะัะพะฒะตัััะต ะฝะฐะปะธัะธะต `OPENAI_API_KEY`
- ะฃะฑะตะดะธัะตัั, ััะพ ะฝะฐ ััะตัั OpenAI ะตััั ััะตะดััะฒะฐ

### ะกะพะฑััะธั ัะพะทะดะฐัััั ะฒ ะฝะตะฟัะฐะฒะธะปัะฝะพะต ะฒัะตะผั

- ะัะพะฒะตัััะต ะฝะฐัััะพะนะบั `TIMEZONE` ะฒ `.env`
- ะฃะฑะตะดะธัะตัั, ััะพ ัะฐัะพะฒะพะน ะฟะพัั ัะบะฐะทะฐะฝ ะฟัะฐะฒะธะปัะฝะพ (ะฝะฐะฟัะธะผะตั, `Europe/Moscow`)

## โก ะัััััะน ััะฐัั

1. **ะกะพะทะดะฐะนัะต Telegram ะฑะพัะฐ:**
   - ะะฐะฟะธัะธัะต [@BotFather](https://t.me/BotFather) ะฒ Telegram
   - ะัะฟัะฐะฒััะต ะบะพะผะฐะฝะดั `/newbot`
   - ะกะปะตะดัะนัะต ะธะฝััััะบัะธัะผ ะธ ะฟะพะปััะธัะต ัะพะบะตะฝ

2. **ะะพะปััะธัะต OpenAI API ะบะปัั:**
   - ะะฐัะตะณะธัััะธััะนัะตัั ะฝะฐ [OpenAI](https://platform.openai.com)
   - ะกะพะทะดะฐะนัะต API ะบะปัั ะฒ ัะฐะทะดะตะปะต API Keys

3. **ะะฐัััะพะนัะต ะฏะฝะดะตะบั ะะฐะปะตะฝะดะฐัั:**
   - ะะฐะนะดะธัะต ะฒ [ะฏะฝะดะตะบั ID](https://id.yandex.ru/) โ ะะตะทะพะฟะฐัะฝะพััั โ ะะฐัะพะปะธ ะฟัะธะปะพะถะตะฝะธะน
   - ะกะพะทะดะฐะนัะต ะฟะฐัะพะปั ะดะปั "ะะฐะปะตะฝะดะฐัั"

4. **ะะฐัััะพะนัะต ะฟะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั:**
   ```bash
   cp .env.example .env
   # ะััะตะดะฐะบัะธััะนัะต .env ะธ ะทะฐะฟะพะปะฝะธัะต ะฒัะต ะทะฝะฐัะตะฝะธั
   ```

5. **ะะฐะฟัััะธัะต ะฑะพัะฐ:**
   ```bash
   pip install -r requirements.txt
   python main.py
   ```

6. **ะัะพัะตััะธััะนัะต:**
   - ะะฐะนะดะธัะต ะฒะฐัะตะณะพ ะฑะพัะฐ ะฒ Telegram
   - ะัะฟัะฐะฒััะต ะบะพะผะฐะฝะดั `/start`
   - ะัะฟัะฐะฒััะต ะณะพะปะพัะพะฒะพะต ัะพะพะฑัะตะฝะธะต: "ะะพััะฐะฒั ะฒัััะตัั ะฝะฐ ะทะฐะฒััะฐ ะฒ 15:00"

## ๐ ะะธัะตะฝะทะธั

MIT License

## ๐ค ะะบะปะฐะด

ะัะธะฒะตัััะฒััััั ะปัะฑัะต ัะปัััะตะฝะธั ะธ ะฟัะตะดะปะพะถะตะฝะธั! ะกะพะทะดะฐะฒะฐะนัะต issues ะธ pull requests.
